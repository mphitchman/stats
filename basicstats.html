<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>MATH 140: Using RStudio</title>

<script src="site_libs/header-attrs-2.19/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="style.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">MATH 140</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="slides.html">Slides</a>
</li>
<li>
  <a href="activities.html">Activities and Labs</a>
</li>
<li>
  <a href="data.html">Data</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    RStudio
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="rstudio.html">Installation and Orientation</a>
    </li>
    <li>
      <a href="basicstats.html">Data and Descriptive Statistics</a>
    </li>
    <li>
      <a href="dataviz.html">Data Visualization with ggplot</a>
    </li>
    <li>
      <a href="datamanip.html">Data Manipulation with dplyr</a>
    </li>
    <li>
      <a href="regression.html">Linear Regression</a>
    </li>
    <li>
      <a href="references.html">Other Resources</a>
    </li>
  </ul>
</li>
<li>
  <a href="inference.html">Inference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="mailto:&lt;mhitchm@linfield.edu&gt;">
    <span class="fa fa-envelope fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="http://github.com/mphitchman/stats">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">MATH 140: Using RStudio</h1>

</div>


<p><strong>I encourage you to reproduce all of the results on this page
in your own RStudio session.</strong></p>
<div id="data" class="section level1">
<h1>Data</h1>
<p>In MATH 140 we use R to manage, explore, and analyze data. Yep, we
use R to conduct</p>
<ul>
<li>exploratory data analysis (EDA),</li>
<li>data visualization,</li>
<li>data manipulation,</li>
<li>statistical inference on data, and</li>
<li>simulations to estimate the likelihood of obtaining data from a
population with a known distribution.</li>
</ul>
<p>We will either enter data manually in R (as <strong>vectors</strong>
or <strong>data frames</strong>), or import data in R via spreadsheet
files.</p>
<div id="vectors" class="section level2">
<h2>Vectors</h2>
<p>A <strong>vector</strong> is an ordered list of values or
characters.</p>
<blockquote>
<p>Use the <code>c()</code> command to input a vector.</p>
</blockquote>
<p>Run this code in your session (copy, paste, and run):</p>
<pre class="r"><code>score = c(219, 223, 186, 256, 295, 211, 175, 318)</code></pre>
<p>You have created a vector called <code>score</code> that contains
eight numbers. In fact, <code>score</code> is a record of my last eight
<em>Yahtzee</em> game scores. After you run the line above in your own
session, you will see the value <code>score</code> in your Environment
tab. Check that it’s there!</p>
<p><strong>Note</strong>: The letter ‘c’ stands for combine, or
concatenate, and the ‘c’ also reminds me to separate the entries in the
<code>c()</code> command with commas.</p>
<p>Having named the vector, we can refer to it by name when we want to
do anything with it. For instance:</p>
<table>
<thead>
<tr class="header">
<th align="left">command</th>
<th align="left">result</th>
<th align="left">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>length(score)</code></td>
<td align="left">8</td>
<td align="left">the number of entries in the vector</td>
</tr>
<tr class="even">
<td align="left"><code>sum(score)</code></td>
<td align="left">1883</td>
<td align="left">the sum of the scores</td>
</tr>
<tr class="odd">
<td align="left"><code>mean(score)</code></td>
<td align="left">235.375</td>
<td align="left">the mean of the scores</td>
</tr>
<tr class="even">
<td align="left"><code>max(score)</code></td>
<td align="left">318</td>
<td align="left">the maximum score</td>
</tr>
<tr class="odd">
<td align="left"><code>sd(score)</code></td>
<td align="left">50.5764979</td>
<td align="left">standard deviation of the scores</td>
</tr>
</tbody>
</table>
<p>More on finding descriptive statistics below.</p>
</div>
<div id="data-frames" class="section level2">
<h2>Data Frames</h2>
<p>A data frame is a collection of related vectors bound together as
columns in a spreadsheet:</p>
<center>
<img src="images/sheet.png" style="width:40.0%" />
</center>
<p>We can either create a data frame in R by assembling defined vectors,
or we import a spreadsheet file as a data frame. We look at both options
below.</p>
<p><strong>Pro Tip:</strong> Do not enter data by hand if you don’t have
to. It’s much, much easier (and less prone to error) to load saved
spreadsheets into R than it is to retype the entries by hand in R.</p>
<blockquote>
<p>Using the <code>data.frame()</code> command to create a data frame
from vectors.</p>
</blockquote>
</div>
<div id="example-1-the-yahtzee-data-frame." class="section level2">
<h2>Example 1: The Yahtzee data frame.</h2>
<p>As the spreadsheet pictured above shows, I have two other bits of
information about those eight Yahtzee games I played: whether I scored a
Yahtzee (vector <code>yahtzee</code>) during the game, and my mood at
the start of each game (vector <code>mood</code>):</p>
<pre class="r"><code>score = c(219, 223, 186, 256, 295, 211, 175, 318)
yahtzee=c(&quot;no&quot;,&quot;no&quot;,&quot;no&quot;,&quot;no&quot;,&quot;yes&quot;,&quot;no&quot;,&quot;no&quot;,&quot;yes&quot;)
mood=c(&quot;content&quot;,&quot;pensive&quot;,&quot;anxious&quot;,&quot;pensive&quot;,&quot;content&quot;,&quot;content&quot;,&quot;pensive&quot;,&quot;anxious&quot;)</code></pre>
<p><strong>Note</strong>: If I’m not entering numerical values, I need
to use quotes around each entry in the vector.</p>
<p>Create a data frame:</p>
<pre class="r"><code>games=data.frame(mood,score,yahtzee)</code></pre>
<pre><code>##      mood score yahtzee
## 1 content   219      no
## 2 pensive   223      no
## 3 anxious   186      no
## 4 pensive   256      no
## 5 content   295     yes
## 6 content   211      no
## 7 pensive   175      no
## 8 anxious   318     yes</code></pre>
<p><strong>Note</strong>: Each row gives three pieces of information
about a single game. For instance, at the start of game 3 I felt
anxious, my game 3 score was 186, and I did not roll a Yahtzee during
the game. Sad.</p>
<p><strong>Note</strong>: This data frame has two <strong>categorical
variables</strong>: <code>mood</code> and <code>yahtzee</code> and one
<strong>numerical variable</strong>: <code>score</code>. When entering
categorical data in a vector, we must use quotes around each entry. When
entering numerical data we do not use quotes.</p>
<p>The data frame <code>games</code> should appear in your Environment
tab after running the lines above. My Environment tab looks like
this:</p>
<center>
<img src="images/envtab.png" style="width:50.0%" />
</center>
<p>Notice that the environment tab indicates whether a vector is
categorical (<code>chr</code>) or numerical (<code>num</code> or
<code>int</code>).</p>
</div>
<div id="example-2-simulated-data-in-a-data-frame"
class="section level2">
<h2>Example 2: Simulated data in a data frame</h2>
<pre class="r"><code>color=sample(c(&quot;red&quot;,&quot;blue&quot;,&quot;purple&quot;),size=100,replace=TRUE,prob=c(.2,.2,.6))
roll=sample(1:4,size=100,replace=TRUE)
df=data.frame(color,roll)
dim(df)</code></pre>
<pre><code>## [1] 100   2</code></pre>
<p>Unpacking the above code.</p>
<ul>
<li>Big picture: We create a data frame called <code>df</code> that has
two columns, called <code>color</code> and <code>roll</code>, and 100
rows.</li>
<li>Each vector is created using the <code>sample()</code> command in
R.<br />
</li>
<li>The vector <code>color</code> is created by drawing 100 times from
the set of colors <code>c("red","blue","purple")</code>, where, for each
draw, the probability of selecting “red” is 0.2, the probability of
selecting “blue” is 0.2, and the probability of selecting “purple” is
0.6.</li>
<li>The vector <code>roll</code> is created by drawing 100 times from
the set of numbers 1 through 4 (all numbers equally likely to be
drawn).</li>
<li>The last command, <code>dim(df)</code>, returns the number of rows
(100) and columns (2) in <code>df</code>.</li>
<li>We can also check out the first few rows directly (I choose 8 rows,
of course):</li>
</ul>
<pre class="r"><code>head(df,8)</code></pre>
<pre><code>##    color roll
## 1 purple    4
## 2   blue    2
## 3 purple    3
## 4 purple    4
## 5 purple    1
## 6    red    3
## 7   blue    2
## 8 purple    4</code></pre>
<p>I hear you asking, <span style="color: blue;">“Why would you want to
build this <code>df</code>?” </span></p>
<p>Imagine wanting to simulate the following game: I have 10 4-sided
dice in a box, 6 of them are purple, 2 are red, and 2 are blue. I want
to pick a die at random from the box, roll it once, and record the roll;
and I want to play this game 100 times and record the results.</p>
<p>And now I hear you asking <span style="color: blue;">“Again, why
would I want to do this?”</span></p>
<p>OK, suppose a campus community is, politically, 20% democrat (blue),
20% republican (red), and 60% independent (purple). We pick 100 people
at random and ask them their opinion on some question that has 4
possible answers. The above <code>df</code> simulates what sort of
results we should expect if each person’s answer is random, and
independent of their political affiliation. Seeing what sorts of results
to expect if political affiliation is not a factor helps us to
investigate whether real data we gather suggests political affiliation
<em>is</em> a factor in one’s views on this question.</p>
<p>OK, this ends the brief introduction to building data frames in R
from scratch. Again, generally data frames are more easily entered in R
by importing them from spreadsheet files.</p>
</div>
<div id="import-data-files" class="section level2">
<h2>Import data files</h2>
<p>A common file type is the .csv file, which stands for <em>comma
separated values</em>. With RStudio, such data files are at our
fingertips! We can import a .csv file from the web using the
<code>read.csv()</code> command. (We can also import other types of
spreadsheets with other, similar commands.)</p>
<p>The following code imports the file called softball.csv from our
course resource page, and it names the data matrix <code>wildcats</code>
in our RStudio session.</p>
<pre class="r"><code>wildcats &lt;- read.csv(&quot;https://www.mphitchman.com/stats/data/softball.csv&quot;)</code></pre>
<p>What does the <code>wildcats</code> data set look like? Here’s a look
at the first 5 rows:</p>
<pre class="r"><code>head(wildcats,5)</code></pre>
<pre><code>##   Year           Coach  W  L T District NCAA
## 1 1999     Laura Kenow 20 17 0      3rd     
## 2 2000     Laura Kenow 24 10 0      4th     
## 3 2001     Laura Kenow 24 17 0      2nd     
## 4 2002 Jackson Vaughan 21 17 0      3rd     
## 5 2003 Jackson Vaughan 27 11 0      2nd</code></pre>
<p>In <code>wildcats</code> each row gives info about a season, and the
variables include the year, the coach, wins, losses, and how well the
team did in districts and nationals.</p>
<p>Enter this line in your session and click on <code>wildcats</code> in
your Environment tab. The data matrix will appear in the upper left pane
of your session in spreadsheet form.</p>
</div>
<div id="columns-in-data-frames" class="section level2">
<h2>Columns in data frames</h2>
<blockquote>
<p>The dollar sign <code>$</code> is the key to extracting columns from
a data frame. We get to a column by entering:
<code>dfname$colname</code>.</p>
</blockquote>
<p>For instance, <code>wildcats$W</code> will extract the <code>W</code>
column of the <code>wildcats</code> data frame, and
<code>games$score</code> will extract the <code>score</code> column of
the <code>games</code> data frame (my yahtzee games defined above).</p>
<p>To find the average number of wins per season from 1999 to 2024, we
can use the <code>mean()</code> command on the <code>W</code> column of
the <code>wildcats</code> data frame:</p>
<pre class="r"><code>mean(wildcats$W)</code></pre>
<pre><code>## [1] 35.26923</code></pre>
<p>The average number of losses per season?</p>
<pre class="r"><code>mean(wildcats$L)</code></pre>
<pre><code>## [1] 9.346154</code></pre>
</div>
<div id="r-comes-with-data" class="section level2">
<h2>R comes with data</h2>
<p>Generally we will work with a data frame that we load from a
spreadsheet, such as <code>wildcats</code>, or a data frame that we
input via vectors, such as <code>games</code>, but R also comes with
several built-in data frames. Try entering the following word in the
console prompt.</p>
<pre><code>faithful</code></pre>
<p>What you see displayed is a data frame! What on earth do these
numbers mean?</p>
<p>This data frame gaves information about eruptions of the Old Faithful
Geyser. Search on ‘faithful’ in the Help Tab to read all about it!</p>
<blockquote>
<p>You can type <code>data()</code> at the console prompt in RStudio to
see a list of all the data sets that come with the program.</p>
</blockquote>
</div>
</div>
<div id="descriptive-statistics" class="section level1">
<h1>Descriptive Statistics</h1>
<p>Here are some common commands for describing data.</p>
<table>
<colgroup>
<col width="14%" />
<col width="85%" />
</colgroup>
<thead>
<tr class="header">
<th align="left">function</th>
<th align="left">description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left"><code>length()</code></td>
<td align="left">returns the number of entries in the vector entered in
the parentheses</td>
</tr>
<tr class="even">
<td align="left"><code>mean()</code></td>
<td align="left">returns the mean of the data</td>
</tr>
<tr class="odd">
<td align="left"><code>median()</code></td>
<td align="left">returns the median</td>
</tr>
<tr class="even">
<td align="left"><code>max()</code></td>
<td align="left">returns the maximum of the data</td>
</tr>
<tr class="odd">
<td align="left"><code>min()</code></td>
<td align="left">returns the minimum</td>
</tr>
<tr class="even">
<td align="left"><code>sum()</code></td>
<td align="left">returns the sum of the data</td>
</tr>
<tr class="odd">
<td align="left"><code>var()</code></td>
<td align="left">returns the variance of the data</td>
</tr>
<tr class="even">
<td align="left"><code>sd()</code></td>
<td align="left">returns the standard deviation of the data</td>
</tr>
<tr class="odd">
<td align="left"><code>summary()</code></td>
<td align="left">returns 6 statistics: min, Q1, median, mean, Q3,
max</td>
</tr>
<tr class="even">
<td align="left"><code>fivenum()</code></td>
<td align="left">returns the 5 number summary: min Q1 median Q3 max</td>
</tr>
<tr class="odd">
<td align="left"><code>table()</code></td>
<td align="left">returns the frequency of each unique value of the
data</td>
</tr>
</tbody>
</table>
<p>Don’t you want to know the distribution of colored dice randomly
chosen in Example 2 above!?</p>
<pre class="r"><code>table(df$color) </code></pre>
<pre><code>## 
##   blue purple    red 
##     21     60     19</code></pre>
<p>The average of a bunch of numbers (need <code>c()</code>!!):</p>
<pre class="r"><code>mean(c(4,5,8,5,4,3,6,7,3,8,9,12,11))</code></pre>
<pre><code>## [1] 6.538462</code></pre>
<p>The 5 number summary for the <code>W</code> column of the
<code>wildcats</code> data frame.</p>
<pre class="r"><code>fivenum(wildcats$W)</code></pre>
<pre><code>## [1] 12.0 31.0 37.5 39.0 51.0</code></pre>
<p>How many games did Linfield softball win between 1999 and 2024?</p>
<pre class="r"><code>sum(wildcats$W)</code></pre>
<pre><code>## [1] 917</code></pre>
<p>Who has coached Linfield softball during this period, and how many
seasons has each coach coached?</p>
<pre class="r"><code>table(wildcats$Coach)</code></pre>
<pre><code>## 
## Jackson Vaughan     Laura Kenow 
##              23               3</code></pre>
</div>
<div id="basic-data-manipulation" class="section level1">
<h1>Basic Data Manipulation</h1>
<p>Extracting a particular entry in a vector:</p>
<pre class="r"><code>m = c(10,12,14,16,9,13)
m[3] # returns the third element in the vector</code></pre>
<pre><code>## [1] 14</code></pre>
<p>Extracting a particular entry in a data frame:</p>
<pre class="r"><code>games[2,3] # returns the element in row 2, column 3 of the games data frame</code></pre>
<pre><code>## [1] &quot;no&quot;</code></pre>
<p>Extracting specific rows (by row numbers), say rows 2 through 5:</p>
<pre class="r"><code>games[2:5,] </code></pre>
<pre><code>##      mood score yahtzee
## 2 pensive   223      no
## 3 anxious   186      no
## 4 pensive   256      no
## 5 content   295     yes</code></pre>
<p><strong>Note</strong>: The comma is necessary. In general, the values
before the comma (2:5) specify the row numbers, and the values after the
comma specify the column numbers. By leaving the column entry blank, R
takes <em>all</em> the columns.</p>
<div id="filter-by-rows-having-some-feature" class="section level2">
<h2>Filter by rows having some feature</h2>
<p>We filter the Yahtzee <code>games</code> data frame built above to
just those rows meeting various conditions.</p>
<p><strong>List all games in which my mood was
<code>anxious</code></strong></p>
<pre class="r"><code>subset(games,mood==&quot;anxious&quot;)</code></pre>
<pre><code>##      mood score yahtzee
## 3 anxious   186      no
## 8 anxious   318     yes</code></pre>
<p><strong>List all games with score less than 200</strong></p>
<pre class="r"><code>subset(games, score &lt; 200)</code></pre>
<pre><code>##      mood score yahtzee
## 3 anxious   186      no
## 7 pensive   175      no</code></pre>
<p>Let’s not talk about those games :).</p>
<p><strong>List all games meeting two conditions (say score at least 200
and mood content)</strong></p>
<pre class="r"><code>subset(games,score&gt;=200&amp;mood==&quot;content&quot;)</code></pre>
<pre><code>##      mood score yahtzee
## 1 content   219      no
## 5 content   295     yes
## 6 content   211      no</code></pre>
<p><strong>Note</strong>: We may want to save a filtered data frame as a
new one, which we do by giving it a name:</p>
<pre class="r"><code>fun.games=subset(games,score&gt;=200&amp;mood==&quot;content&quot;)</code></pre>
<p>Running that line would add the data frame fun.games to my RStudio
session, and it will appear in my Environment tab. Check!</p>
</div>
<div id="restricting-columns" class="section level2">
<h2>Restricting Columns</h2>
<p>In the <code>wildcats</code> data frame, suppose we want to focus on
wins and losses by season. We can create a new data frame from the old
one that has just these columns:</p>
<pre class="r"><code>catWL &lt;- wildcats[c(&quot;Year&quot;,&quot;W&quot;,&quot;L&quot;)] 
head(catWL)</code></pre>
<pre><code>##   Year  W  L
## 1 1999 20 17
## 2 2000 24 10
## 3 2001 24 17
## 4 2002 21 17
## 5 2003 27 11
## 6 2004 37  9</code></pre>
</div>
<div id="adding-a-column" class="section level2">
<h2>Adding a Column</h2>
<p>Suppose we want to add a column to the <code>wildcats</code> data
frame that specifies the total number of games played, something we can
calculate from existing columns (games played = wins+losses+ties). The
following code creates the <code>GP</code> column and tells R how to
build it:</p>
<pre class="r"><code>wildcats$GP = wildcats$W+wildcats$L+wildcats$T</code></pre>
</div>
</div>
<div id="basic-data-visualization" class="section level1">
<h1>Basic Data Visualization</h1>
<p>R has some built-in graphing functions for histograms, boxplots,
scatter plots, etc.</p>
<div id="histograms" class="section level2">
<h2>Histograms</h2>
<p>A basic histogram - of Linfield wins by season.</p>
<pre class="r"><code>hist(wildcats$W)</code></pre>
<p><img src="basicstats_files/figure-html/unnamed-chunk-26-1.png" width="480" /></p>
<p>When presenting data, we have a responsibility to make it readable,
so we can do better than the above. We can supply titles, axis labels,
annotations, colors, etc to help us visualize the data in a more useful
way.</p>
<pre class="r"><code>hist(wildcats$W,
     main=&quot;Wins by Season, Linfield Softball 1999-2024&quot;,
     xlab=&quot;Wins&quot;,
     col=&quot;purple&quot;,
     breaks=10
     )</code></pre>
<p><img src="basicstats_files/figure-html/unnamed-chunk-27-1.png" width="480" /></p>
<p>We specify the bins in a histogram with the <code>breaks</code>
option. If we have too few bins for the data, we lose all sorts of
information, and if we have too many bins we might have a harder time
seeing the shape of the distribution through the noise.</p>
<!--

``` r
hist(wildcats$W,
     main="Wins by Season - not enough bins!",
     breaks=1,
     xlab="Wins",
     col="purple"
     )
```

<img src="basicstats_files/figure-html/unnamed-chunk-28-1.png" width="480" />


If we have too many bins for the data, we can lose sight of the overall shape of the data:


``` r
hist(wildcats$W,
     main="Wins by Season, Linfield Softball 1999-2024",
     breaks=30,
     xlab="Wins",
     col="white",
     xlim=c(0,55)
     )
```

<img src="basicstats_files/figure-html/unnamed-chunk-29-1.png" width="480" />
-->
</div>
<div id="boxplots" class="section level2">
<h2>Boxplots</h2>
<p>A boxplot is a visual representation of the 5 number summary, and R
loves to make them!</p>
<p>Here’s a boxplot in its simplest form.</p>
<pre class="r"><code>boxplot(wildcats$W)</code></pre>
<p><img src="basicstats_files/figure-html/unnamed-chunk-30-1.png" width="384" /></p>
<p>By default a boxplot is presented vertically, but we can ask for a
horizontal boxplot as well, and we can add a splash of color.</p>
<pre class="r"><code>boxplot(wildcats$W,
        main=&quot;Linfield softball wins by season (1999-2024)&quot;,
        col=&quot;red&quot;,
        horizontal = TRUE)</code></pre>
<p><img src="basicstats_files/figure-html/unnamed-chunk-31-1.png" width="480" /></p>
<p>AND, we can add text to a graph. For instance, we can add the values
in the 5 number summary to the boxplot, which gives more precision to
the plot!</p>
<pre class="r"><code>boxplot(wildcats$W,
        main=&quot;Linfield softball wins by season (1999-2024)&quot;,
        col=&quot;red&quot;,
        horizontal = TRUE)
v&lt;-fivenum(wildcats$W)
text(x=c(v[1:5]),y=c(rep(1.3,5)),c(v[1:5]),cex=.7,col=&quot;purple&quot;)</code></pre>
<p><img src="basicstats_files/figure-html/unnamed-chunk-32-1.png" width="480" /></p>
</div>
<div id="barplots" class="section level2">
<h2>Barplots</h2>
<p>For categorical variables it can be useful to make barplots of
counts. If we’re considering a vector of values we use the
<code>barplot()</code> command in conjuntion with the
<code>table()</code> command</p>
<pre class="r"><code>barplot(table(wildcats$District),main=&quot;Finish at Districts&quot;,ylab=&quot;count&quot;,xlab=&quot;finish&quot;,col=&quot;#F5D7FB&quot;)</code></pre>
<p><img src="basicstats_files/figure-html/unnamed-chunk-33-1.png" width="576" /></p>
</div>
<div id="choosing-plot-colors" class="section level2">
<h2>Choosing plot colors</h2>
<p>If you type <code>colors()</code> at the console prompt you can get a
list of names of built in colors.</p>
<p>You can find color codes on-line too, such as the one I used in the
barplot code. Here’s one site for this: <a
href="https://htmlcolorcodes.com/">https://htmlcolorcodes.com/</a>.</p>
</div>
<div id="scatter-plots" class="section level2">
<h2>Scatter plots</h2>
<p>A scatter plot is a useful way to visualize the relationship between
two numeric variables. Here’s a scatter plot in its simplest form.</p>
<pre class="r"><code>plot(x=wildcats$Year,y=wildcats$W)</code></pre>
<p><img src="basicstats_files/figure-html/unnamed-chunk-34-1.png" width="480" /></p>
<p>We can change the shape of points in a plot with the <code>pch</code>
option, and change the scale of the y-axis.</p>
<pre class="r"><code>plot(x=wildcats$Year,y=wildcats$W,
     main=&quot;Linfield softball wins by season&quot;, 
     ylab=&quot;wins&quot;,
     xlab=&quot;season&quot;,
     col=&quot;brown3&quot;,
     ylim=c(0,60),
     pch=16)</code></pre>
<p><img src="basicstats_files/figure-html/unnamed-chunk-35-1.png" width="480" /></p>
<p>A quick guide to pch and point shapes (google “R pch options” for
more details):</p>
<p><img src="images/pch.png" style="width:30.0%" /></p>
<p>As an aside, we can create a line plot as well, by specifying
<code>type="l"</code> (that’s an ‘l’ for ‘line’, not the number 1).</p>
<pre class="r"><code>plot(x=wildcats$Year,y=wildcats$W,
     main=&quot;Linfield softball wins by season&quot;, 
     ylab=&quot;wins&quot;,
     xlab=&quot;season&quot;,
     col=&quot;purple&quot;,
     ylim=c(0,60),
     type=&quot;l&quot;)</code></pre>
<p><img src="basicstats_files/figure-html/unnamed-chunk-36-1.png" width="480" /></p>
<!--
## Stacked dot plot


``` r
stripchart(wildcats$W,
           main="Linfield Softball (1999-2024)", # title
           xlab="Wins per season", #x-axis label
           ylab="", #y axis label (empty for this chart)
           method = "stack", #
           col="dodgerblue", #dot color
           pch=16, # dot shape and filling
           )
```

<img src="basicstats_files/figure-html/unnamed-chunk-37-1.png" width="672" />


-->
</div>
<div id="a-little-eda-exploratory-data-analysis" class="section level2">
<h2>A little EDA (exploratory data analysis)</h2>
<p>Let’s investigate the <code>faithful</code> data that comes in R.</p>
<pre class="r"><code>dim(faithful) # This gives the number of rows (observations) and columns (variables)</code></pre>
<pre><code>## [1] 272   2</code></pre>
<p>This data frame has 272 rows and 2 columns. What are the
variables?</p>
<pre class="r"><code>colnames(faithful) </code></pre>
<pre><code>## [1] &quot;eruptions&quot; &quot;waiting&quot;</code></pre>
<p>The help tab (in the lower right pane) gives information about this
data frame (type <em>faithful</em> in the search box.) The variable
<code>eruptions</code> gives the duration of an eruption (in minutes),
and the second variable, <code>waiting</code>, gives the waiting period
(in minutes) until the next eruption.</p>
<p>We can ask for the first 7 rows of the data frame:</p>
<pre class="r"><code>head(faithful,7) </code></pre>
<pre><code>##   eruptions waiting
## 1     3.600      79
## 2     1.800      54
## 3     3.333      74
## 4     2.283      62
## 5     4.533      85
## 6     2.883      55
## 7     4.700      88</code></pre>
<p>We can extract the entry in row 6, column 2:</p>
<pre class="r"><code>faithful[6,2]</code></pre>
<pre><code>## [1] 55</code></pre>
<p>We can extract the subset of all the data for which the eruption
value is at least 5 minutes:</p>
<pre class="r"><code>subset(faithful, eruptions &gt;= 5)</code></pre>
<pre><code>##     eruptions waiting
## 76      5.067      76
## 149     5.100      96
## 151     5.033      77
## 168     5.000      88</code></pre>
<p>Only 4 of the 272 eruptions exceeded 5 minutes. Seems like a rare
event!</p>
<p>A histogram of eruption duration:</p>
<pre class="r"><code>hist(faithful$eruptions,
     main=&quot;Old Faithful Eruptions&quot;,
     xlab=&quot;Duration (minutes)&quot;,
     col=&quot;wheat&quot;
     ) </code></pre>
<p><img src="basicstats_files/figure-html/unnamed-chunk-43-1.png" width="480" /></p>
<p>A scatter plot:</p>
<pre class="r"><code>plot(x=faithful$eruptions, y=faithful$waiting,
     main=&quot;Old Faithful Eruptions&quot;,
     ylab=&quot;Wait time (minutes)&quot;,
     xlab=&quot;Duration (minutes)&quot;,
     pch=16,
     col=&quot;wheat&quot;
     ) </code></pre>
<p><img src="basicstats_files/figure-html/unnamed-chunk-44-1.png" width="480" /></p>
</div>
</div>
<div id="test-your-understanding" class="section level1">
<h1>Test your understanding</h1>
<p>Below are some bits of code. Can you see what information it will
provide?</p>
<ol style="list-style-type: decimal">
<li>What does this code give?</li>
</ol>
<pre class="r"><code>max(wildcats$W)</code></pre>
<pre><code>## [1] 51</code></pre>
<p>ANSWER: The maximum number of wins in a season over this time
period.</p>
<p>Which season was this? Here’s a way to extract the entire season
(row) from the data matrix that had the most number of wins:</p>
<pre class="r"><code>subset(wildcats, W == max(wildcats$W))</code></pre>
<pre><code>##    Year           Coach  W L T District NCAA GP
## 13 2011 Jackson Vaughan 51 3 0      1st  1st 54</code></pre>
<p>Wow! What a season! 51 wins against just 3 losses, first in
districts, and National Champions!</p>
<ol start="2" style="list-style-type: decimal">
<li>What does this code give?</li>
</ol>
<pre class="r"><code>table(wildcats$NCAA)</code></pre>
<pre><code>## 
##     1st 2nd 3rd 4th 
##  19   2   2   2   1</code></pre>
<p>ANSWER: It specifies how well Linfield did at Nationals over the
1999-2024 time period. Linfield has finished 1st twice, 2nd twice, 3rd
once, and 4th once. The other seasons they didn’t finish as high as
4th.</p>
<ol start="3" style="list-style-type: decimal">
<li>What does this code give?</li>
</ol>
<pre class="r"><code>sum(wildcats$District==&quot;1st&quot;)</code></pre>
<pre><code>## [1] 15</code></pre>
<p>ANSWER: It gives the number of seasons from 1999-2024 in which
Linfield was 1st in the District</p>
<ol start="4" style="list-style-type: decimal">
<li>What does this code give?</li>
</ol>
<pre class="r"><code>wildcats$winpct &lt;- wildcats$W/wildcats$GP</code></pre>
<p>ANSWER: It creates a new column in the data frame wildcats called
<code>winpct</code>. This column records the winning percentage for the
team each season (wins divided by games played).</p>
<ol start="5" style="list-style-type: decimal">
<li>What does this code give?</li>
</ol>
<pre class="r"><code>max(wildcats$winpct)</code></pre>
<pre><code>## [1] 0.9444444</code></pre>
<p>ANSWER: It returns the best winning percentage for a season between
1999 and 2024.</p>
<p>Which season was this?</p>
<pre class="r"><code>subset(wildcats, winpct == max(wildcats$winpct))</code></pre>
<pre><code>##    Year           Coach  W L T District NCAA GP    winpct
## 13 2011 Jackson Vaughan 51 3 0      1st  1st 54 0.9444444</code></pre>
<p>Not surprisingly, the best winning percentage occurred in the magical
2011 season in which the team went 51-3.</p>
<ol start="6" style="list-style-type: decimal">
<li>What does this code give?</li>
</ol>
<pre class="r"><code>plot(x=wildcats$L, y=wildcats$W,cex=.7,
     main=&quot;Linfield Softball (1999-2024)&quot;,
     xlab=&quot;Losses&quot;,
     ylab=&quot;Wins&quot;)</code></pre>
<p><img src="basicstats_files/figure-html/unnamed-chunk-52-1.png" width="480" /></p>
<p>ANSWER: Scatterplot of wins vs losses. This plot makes it clear that
2020 was a strange season. This visual deviation from the trend
indicates that something “different” was going on. Hmm… global
pandemic?</p>
<ol start="7" style="list-style-type: decimal">
<li>What does this code give?</li>
</ol>
<pre class="r"><code>fivenum(wildcats$W[wildcats$Coach==&quot;Jackson Vaughan&quot;])</code></pre>
<pre><code>## [1] 12.0 33.0 38.0 40.5 51.0</code></pre>
<p>ANSWER: This code gives the 5 number summary for the Linfield
softball wins for just the seasons in the data set in which the coach
was Jackson Vaughan. More generally, consider this code, which makes use
of the <code>aggregate()</code> method:</p>
<pre class="r"><code>aggregate(wildcats$W, by=list(wildcats$Coach), FUN = median)</code></pre>
<pre><code>##           Group.1  x
## 1 Jackson Vaughan 38
## 2     Laura Kenow 24</code></pre>
<p>The <code>aggregate()</code> method executes a function on a variable
that has been grouped by a categorical variable. In the code above we
have chosen to determine the median number of wins for each coach over
this time period.</p>
<ol start="8" style="list-style-type: decimal">
<li>How about this one? <code>x</code> is a vector of three values,
<code>xbar</code> is the mean of the values in <code>x</code>. What is
<code>v</code>?</li>
</ol>
<pre class="r"><code>x = c(10,12,17)
xbar = mean(x)
v = sum((x - mean(x))^2)/(length(x)-1)
v</code></pre>
<pre><code>## [1] 13</code></pre>
<p>ANSWER: This code reproduces the formula for the variance of a set of
numbers:<span class="math display">\[s^2 =
\frac{1}{n-1}\sum_{i=1}^n(x_i-\overline{x})^2.\]</span> Convinced? let’s
check that this really gives the variance of the data set
<code>x</code>:</p>
<pre class="r"><code>var(x)</code></pre>
<pre><code>## [1] 13</code></pre>
<p>Yup.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
